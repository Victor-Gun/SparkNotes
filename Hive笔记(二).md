# Hive笔记(二)
__整理:leotse__

### 数据类型和文件格式
1.基本数据类型：Hive支持多种不同长度的整型和浮点型数据类型，支持布尔类型，也支持无长度限制的字符串类型。还有时间戳类型以及二进制数据类型。  
TIMESTAMP: 可以是整数（Unix新纪元秒：1327882394），也可以是浮点数（Unix新纪元秒并跟随有纳秒数：1327882394.123456789），还可以是字符串（JDBC所兼容的时间格式：2015-08-24 10:25:34.123456778）  
BINARY:  字节数组。

**Note**:Unix新纪元时间：1970年1月1日，午夜12点。

2.Hive中所有的这些数据类型都是对Java的接口的实现。如：STRING类型实现的是Java中的String。  

3.Hive和Hadoop强调的是磁盘读写性能的优化，而限制列的长度并不重要。在关系型数据库中，定长的记录更容易建索引，以及进行数据扫描。

4.集合数据类型：struct、map和array。  
STRUCT：和C中的stuct或者“对象”类似，都可以通过“点”符号访问元素内容，如：struct{'Leotse', 'YoloVon'}；  
MAP：MAP是一组键值对元组集合，使用__数组表示法__可以访问元素。如：map('first', 'JOBS', 'last', 'STEVE')；  
ARRAY：数组是一组具有__相同类型和名称__的变量的集合。如：Array('One', 'Two')。

5.文本文件数据编码：文件格式中，最简单的是文本格式文件，我们都很熟悉CSV（逗号分隔值）和TSV（制表符分隔值），然后，当我们使用CSV或者TSV时，需要格外小心数据中出现这些符号。  
为此，Hive默认使用了几个控制字符：  
\n：换行符  
^A（Ctrl＋A）：用于分隔字段，可以用\001表示；  
^B：用于分隔ARRAY和STRUCT中的元素，或者MAP中key－value之间的分隔，用\002表示；  
^C：用于MAP中key－value之间分隔，用\003表示。

6.建表语句中，ROW FORMAT DELIMITED这组关键字必须要写在其他子句之前（除了STORED AS子句）。  
虽然我们可以指定记录与记录之间（LINES TERMINATED BY ...）、字段与字段之间（FIELDS TERMINATED BY ...）等的分隔符，但是事实上，Hive到目前为止对于行与行之间的分隔仅仅支持字符'\n'。

7.**读时模式**：传统数据库是写时模式（schema on write），即数据在写入数据库时对模式进行检查。而Hive是读时模式（schema on read），也就是说，Hive不会在数据加载时进行验证，而是在查询时进行。